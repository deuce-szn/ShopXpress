
generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
}

model Users {
  id Int @id @default(autoincrement())
  email String @unique
  UserId String @unique
  name String?
  ProfilePic String?  
  Password String?
  Token String? 
  GRole String? 
  UserRole String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
 
}

model Category{
  id Int @id @default(autoincrement())
  categoryId  String @unique
  name String @unique
  categoryImage String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  products Products[]
}


model Products {
  id Int @id @default(autoincrement())
  productName String
  productImage String?
  productDescription String?
  productPrice Float
  categoryId String  // Remove the ? to make it required
  // This can now be required
  Category Category @relation(fields: [categoryId], references: [categoryId])
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Orders {
  id Int @id @default(autoincrement())
  orderId String @unique
  userId String
  products Json
  quantity Int
  totalPrice Float
  orderStatus String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Payments {
  id Int @id @default(autoincrement())
  paymentId String @unique
  orderId String
  userId String
  amount Float
  paymentMethod String
  paymentStatus String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Bagging {
  id Int @id @default(autoincrement())
  bagId String @unique
  CustomerId String
  BaggerId String

  products Json
  totalItems Int
  totalPrice Float
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}


model Delivery {
  id Int @id @default(autoincrement())
  deliveryId String @unique
  orderId String
  CustomerId String
  DeliveryPersonelId String
  deliveryAddress String
  deliveryStatus String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
